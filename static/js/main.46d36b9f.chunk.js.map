{"version":3,"sources":["apollo/apollo-setup.tsx","apollo/create-apollo-client.tsx","app-title.tsx","config.ts","authentication/authentication-page.tsx","authentication/loading-auth-data.tsx","authentication/verify-user-authenticated.ts","authentication/actions.ts","authentication/authentication-verifier.tsx","authentication/exchange-code-for-access-token.ts","authentication/auth-checker.tsx","review-stats/inputs.tsx","review-stats/color-palette.ts","review-stats/charts.tsx","review-stats/metrics/index.ts","review-stats/metrics/total-comments.ts","review-stats/metrics/prs-interacted-with.ts","review-stats/metrics/lines-of-code-reviewed.ts","review-stats/metrics/files-reviewed.ts","review-stats/metric-picker-with-charts.tsx","review-stats/transform-pull-requests.ts","review-stats/query-repository.tsx","review-stats/review-stats.tsx","store.ts","authentication/reducer.ts","user-info-bar/get-user-profile-url.ts","user-info-bar/user-info-bar.tsx","App.tsx","registerServiceWorker.ts","index.tsx"],"names":["ConnectedApolloSetup","connect","_ref2","accessToken","authentication","ApolloSetup","_ref","children","Error","concat","displayName","apolloClient","useMemo","ApolloClient","uri","headers","Authorization","createApolloClient","react_default","a","createElement","react_apollo_browser_umd","client","StyledAppTitle","withStyles","theme","header","marginBottom","spacing","unit","textAlign","classes","index_es","variant","className","config","process","getGithubAuthenticationUrl","redirectUrl","window","location","href","queryParams","join","ConnectedAuthenticationPage","state","isLoading","hasError","main","Object","defineProperty","width","display","marginLeft","marginRight","breakpoints","up","paper","marginTop","flexDirection","alignItems","padding","loadingWrapper","gutterBottom","color","StyledLoadingAuthData","wrapper","size","verifyUserAuthenticated","asyncToGenerator","regenerator_default","mark","_callee","dispatch","fetch","response","isAuthenticated","body","wrap","_context","prev","next","method","sent","status","json","type","login","abrupt","stop","this","_x","_x2","_x3","apply","arguments","AuthenticationVerifier","props","_useState","useState","_useState2","slicedToArray","initialized","setInitialized","useEffect","then","Fragment","exchangeCodeForAccessToken","code","JSON","stringify","Content-Type","mode","access_token","console","error","t0","AuthChecker","hasInitialized","url","URL","searchParams","has","get","history","replaceState","document","title","pathname","setState","_this$props","authentication_verifier_AuthenticationVerifier","Component","ConnectedAuthChecker","store","StyledInputs","input","withMarginLeft","onQuery","repository","setRepository","_useState3","subDays","Date","_useState4","fromDate","setFromDate","_useState5","_useState6","toDate","setToDate","onQueryButtonClick","useCallback","label","value","onChange","event","target","fullWidth","InputProps","startAdornment","position","material_ui_pickers_esm","disableFuture","onClick","colorPalette","StyledCharts","_","chartsWrapper","overflow","reviews","ResponsiveContainer","aspect","PieChart","Pie","data","nameKey","dataKey","labelLine","map","index","Cell","fill","length","key","Tooltip","BarChart","slice","CartesianGrid","XAxis","YAxis","Bar","metrics","totalComments","pullRequests","reviewsMap","forEach","pr","nodes","filter","review","author","comments","totalCount","prsInteractedWith","involvedUsers","Set","add","delete","user","linesOfCodeReviewed","additions","deletions","filesReviewed","changedFiles","MetricPickerWithCharts","metricKind","setMetricKind","reviewMetric","entries","name","count","sort","b","transformPullRequests","onMetricSelectChange","style","htmlFor","Select_default","inputProps","id","GET_REPOSITORY_INFO_QUERY","gql","_templateObject","QueryRepository","queryData","queryVariables","firstPrs","firstReviews","query","createSearchQueryString","variables","loading","metric_picker_with_charts_MetricPickerWithCharts","search","formatGitHubDateTime","date","format","StyledReviewStats","setQueryData","query_repository_QueryRepository","reducer","combineReducers","storage","defaultState","getItem","undefined","action","setItem","objectSpread","removeItem","authenticationReducerFactory","localStorage","createStore","__REDUX_DEVTOOLS_EXTENSION__","getUserProfileUrl","ConnectedUserInfoBar","signOutButton","signOut","container","item","xs","App","utils","DateFnsUtils","es","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","log","catch","ReactDOM","src_App","getElementById","toString","origin","addEventListener","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.46d36b9f.chunk.js","sourcesContent":["import React, { FunctionComponent, useMemo } from 'react';\nimport { ApolloProvider } from 'react-apollo';\nimport { connect, MapStateToProps } from 'react-redux';\n\nimport { StoreState } from '../store';\nimport { createApolloClient } from './create-apollo-client';\n\ninterface StateProps {\n  accessToken?: string;\n}\n\nconst ApolloSetup: FunctionComponent<StateProps> = ({\n  accessToken,\n  children,\n}) => {\n  if (!accessToken) {\n    throw new Error(\n      `${\n        ApolloSetup.displayName\n      } should be rendered only if the user is logged in.`,\n    );\n  }\n\n  const apolloClient = useMemo(() => createApolloClient(accessToken), [\n    accessToken,\n  ]);\n\n  return <ApolloProvider client={apolloClient}>{children}</ApolloProvider>;\n};\n\nconst mapStateToProps: MapStateToProps<StateProps, {}, StoreState> = ({\n  authentication,\n}) => ({\n  accessToken: authentication.accessToken,\n});\n\nconst ConnectedApolloSetup = connect(mapStateToProps)(ApolloSetup);\nexport { ConnectedApolloSetup as ApolloSetup };\n","import ApolloClient from 'apollo-boost';\n\nexport function createApolloClient(accessToken: string) {\n  return new ApolloClient({\n    uri: 'https://api.github.com/graphql',\n    headers: {\n      Authorization: `token ${accessToken}`,\n    },\n  });\n}\n","import {\n  StyleRulesCallback,\n  Typography,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core';\nimport React, { FunctionComponent } from 'react';\n\nconst styles: StyleRulesCallback<'header'> = (theme) => ({\n  header: {\n    marginBottom: theme.spacing.unit * 2,\n    textAlign: 'center',\n  },\n});\n\nconst AppTitle: FunctionComponent<WithStyles<typeof styles>> = ({\n  classes,\n}) => (\n  <Typography variant=\"h4\" className={classes.header}>\n    GitHub Review Stats\n  </Typography>\n);\n\nconst StyledAppTitle = withStyles(styles)(AppTitle);\nexport { StyledAppTitle as AppTitle };\n","const azureAccessTokenFunctionUrl =\n  process.env.REACT_APP_AZURE_ACCESS_TOKEN_FUNCTION_URL;\n\nif (!azureAccessTokenFunctionUrl) {\n  console.error(\n    'REACT_APP_AZURE_ACCESS_TOKEN_FUNCTION_URL environment variable is not set.',\n  );\n}\n\nconst githubClientID = process.env.REACT_APP_GITHUB_CLIENT_ID;\n\nif (!githubClientID) {\n  console.error('REACT_APP_GITHUB_CLIENT_ID environment variable is not set.');\n}\n\nexport const config = {\n  githubClientID: githubClientID as string,\n  azureAccessTokenFunctionUrl: azureAccessTokenFunctionUrl as string,\n};\n","import {\n  Button,\n  CircularProgress,\n  Paper,\n  StyleRulesCallback,\n  Typography,\n  withStyles,\n  WithStyles,\n} from '@material-ui/core';\nimport React, { StatelessComponent } from 'react';\nimport { connect, MapStateToProps } from 'react-redux';\n\nimport { AppTitle } from '../app-title';\nimport { config } from '../config';\nimport { StoreState } from '../store';\n\nconst styles: StyleRulesCallback<'main' | 'paper' | 'loadingWrapper'> = (\n  theme,\n) => ({\n  main: {\n    width: 'auto',\n\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 8,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: `${theme.spacing.unit * 2}px ${theme.spacing.unit * 3}px ${theme\n      .spacing.unit * 3}px`,\n  },\n  loadingWrapper: {\n    textAlign: 'center',\n  },\n});\n\ninterface AuthenticationPageStateProps {\n  isLoading: boolean;\n  hasError: boolean;\n}\n\ntype AuthenticationPageProps = WithStyles<typeof styles> &\n  AuthenticationPageStateProps;\n\nconst AuthenticationPage: StatelessComponent<AuthenticationPageProps> = ({\n  classes,\n  isLoading,\n  hasError,\n}) => {\n  return (\n    <main className={classes.main}>\n      <Paper className={classes.paper}>\n        <AppTitle />\n\n        {isLoading && (\n          <div className={classes.loadingWrapper}>\n            <Typography gutterBottom={true}>Signing in...</Typography>\n            <CircularProgress />\n          </div>\n        )}\n\n        {hasError && (\n          <Typography gutterBottom={true} color=\"error\">\n            An error occurred while signing in. Please try again.\n          </Typography>\n        )}\n\n        {!isLoading && (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            href={getGithubAuthenticationUrl()}\n          >\n            Sign up with GitHub\n          </Button>\n        )}\n      </Paper>\n    </main>\n  );\n};\n\nconst getGithubAuthenticationUrl = () => {\n  const redirectUrl = window.location.href;\n  const queryParams = [\n    `client_id=${config.githubClientID}`,\n    `redirect_uri=${redirectUrl}`,\n    'scope=repo',\n  ].join('&');\n\n  return `https://github.com/login/oauth/authorize?${queryParams}`;\n};\n\nconst mapStateToProps: MapStateToProps<\n  AuthenticationPageStateProps,\n  {},\n  StoreState\n> = (state) => ({\n  isLoading: state.authentication.isLoading,\n  hasError: state.authentication.hasError,\n});\n\nconst ConnectedAuthenticationPage = connect(mapStateToProps)(\n  withStyles(styles)(AuthenticationPage),\n);\nexport { ConnectedAuthenticationPage as AuthenticationPage };\n","import { CircularProgress, withStyles } from '@material-ui/core';\nimport { StyleRules, WithStyles } from '@material-ui/core/styles';\nimport React, { StatelessComponent } from 'react';\n\nconst styles: StyleRules<'wrapper'> = {\n  wrapper: {\n    width: '100%',\n    textAlign: 'center',\n    marginTop: 50,\n  },\n};\n\nconst LoadingAuthData: StatelessComponent<WithStyles<typeof styles>> = ({\n  classes,\n}) => {\n  return (\n    <div className={classes.wrapper}>\n      <CircularProgress size={50} />\n    </div>\n  );\n};\n\nconst StyledLoadingAuthData = withStyles(styles)(LoadingAuthData);\nexport { StyledLoadingAuthData as LoadingAuthData };\n","import { Dispatch } from 'redux';\n\nimport {\n  AuthenticationAction,\n  authenticationLogin,\n  authenticationLogout,\n} from './actions';\n\nexport const verifyUserAuthenticated = async (\n  dispatch: Dispatch<AuthenticationAction>,\n  fetch: typeof window.fetch,\n  accessToken: string,\n) => {\n  const response = await fetch('https://api.github.com/user', {\n    method: 'GET',\n    headers: {\n      Authorization: `token ${accessToken}`,\n    },\n  });\n\n  const isAuthenticated = response.status === 200;\n\n  if (isAuthenticated) {\n    const body = await response.json();\n    dispatch(authenticationLogin(body.login));\n  } else {\n    dispatch(authenticationLogout());\n  }\n\n  return isAuthenticated;\n};\n","import { Action } from 'redux';\n\nexport type AuthenticationStartedAction = Action<'AUTHENTICATION_STARTED'>;\n\nexport const authenticationStarted = (): AuthenticationStartedAction => ({\n  type: 'AUTHENTICATION_STARTED',\n});\n\nexport interface AuthenticationSuccessAction\n  extends Action<'AUTHENTICATION_SUCCESS'> {\n  accessToken: string;\n}\n\nexport const authenticationSuccess = (\n  accessToken: string,\n): AuthenticationSuccessAction => ({\n  accessToken,\n  type: 'AUTHENTICATION_SUCCESS',\n});\n\nexport type AuthenticationErrorAction = Action<'AUTHENTICATION_ERROR'>;\n\nexport const authenticationError = (): AuthenticationErrorAction => ({\n  type: 'AUTHENTICATION_ERROR',\n});\n\nexport type AuthenticationLogoutAction = Action<'AUTHENTICATION_LOGOUT'>;\n\nexport const authenticationLogout = (): AuthenticationLogoutAction => ({\n  type: 'AUTHENTICATION_LOGOUT',\n});\n\nexport type AuthenticationLoginAction = Action<'AUTHENTICATION_LOGIN'> & {\n  login: string;\n};\n\nexport const authenticationLogin = (\n  login: string,\n): AuthenticationLoginAction => ({\n  type: 'AUTHENTICATION_LOGIN',\n  login,\n});\n\nexport type AuthenticationAction =\n  | AuthenticationSuccessAction\n  | AuthenticationErrorAction\n  | AuthenticationStartedAction\n  | AuthenticationLogoutAction\n  | AuthenticationLoginAction;\n","import React, { FunctionComponent, useEffect, useState } from 'react';\nimport { Dispatch } from 'redux';\n\nimport { LoadingAuthData } from './loading-auth-data';\nimport { verifyUserAuthenticated } from './verify-user-authenticated';\n\ninterface AuthenticationVerifierProps {\n  accessToken: string;\n  dispatch: Dispatch;\n}\n\nexport const AuthenticationVerifier: FunctionComponent<\n  AuthenticationVerifierProps\n> = (props) => {\n  const [initialized, setInitialized] = useState(false);\n\n  useEffect(() => {\n    setInitialized(false);\n\n    verifyUserAuthenticated(props.dispatch, fetch, props.accessToken).then(() =>\n      setInitialized(true),\n    );\n  }, [props.accessToken]);\n\n  if (initialized) {\n    return <>{props.children}</>;\n  }\n\n  return <LoadingAuthData />;\n};\n","import { Dispatch } from 'redux';\n\nimport { config } from '../config';\nimport {\n  AuthenticationAction,\n  authenticationError,\n  authenticationStarted,\n  authenticationSuccess,\n} from './actions';\n\nexport const exchangeCodeForAccessToken = async (\n  dispatch: Dispatch<AuthenticationAction>,\n  fetch: typeof window.fetch,\n  code: string,\n) => {\n  dispatch(authenticationStarted());\n\n  try {\n    const response = await fetch(config.azureAccessTokenFunctionUrl, {\n      method: 'POST',\n      body: JSON.stringify({\n        code,\n      }),\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      mode: 'cors',\n    });\n\n    const body = await response.json();\n    if (!body.access_token) {\n      console.error(\n        'Could not sign in via an Azure function. Payload received',\n        body,\n      );\n      throw new Error('Could not sign in');\n    }\n\n    dispatch(authenticationSuccess(body.access_token));\n  } catch (error) {\n    dispatch(authenticationError());\n  }\n};\n","import React, { Component } from 'react';\nimport { connect, DispatchProp, MapStateToProps } from 'react-redux';\n\nimport { StoreState } from '../store';\nimport { AuthenticationPage } from './authentication-page';\nimport { AuthenticationVerifier } from './authentication-verifier';\nimport { exchangeCodeForAccessToken } from './exchange-code-for-access-token';\nimport { LoadingAuthData } from './loading-auth-data';\n\ninterface StoreProps {\n  accessToken?: string;\n}\n\ntype AuthCheckerProps = StoreProps & DispatchProp;\n\ninterface AuthCheckerState {\n  hasInitialized: boolean;\n}\n\nclass AuthChecker extends Component<AuthCheckerProps, AuthCheckerState> {\n  public state: AuthCheckerState = {\n    hasInitialized: false,\n  };\n\n  public async componentDidMount() {\n    const url = new URL(window.location.href);\n\n    if (url.searchParams.has('code')) {\n      const code = url.searchParams.get('code') as string;\n      window.history.replaceState(\n        null,\n        document.title,\n        window.location.pathname,\n      );\n\n      exchangeCodeForAccessToken(this.props.dispatch, fetch, code);\n    }\n\n    this.setState({\n      hasInitialized: true,\n    });\n  }\n\n  public render() {\n    const { children, accessToken, dispatch } = this.props;\n    const { hasInitialized } = this.state;\n\n    if (!hasInitialized) {\n      return <LoadingAuthData />;\n    }\n\n    if (!accessToken) {\n      return <AuthenticationPage />;\n    }\n\n    return (\n      <AuthenticationVerifier accessToken={accessToken} dispatch={dispatch}>\n        {children}\n      </AuthenticationVerifier>\n    );\n  }\n}\n\nconst mapStateToProps: MapStateToProps<StoreProps, {}, StoreState> = (\n  store,\n) => ({\n  accessToken: store.authentication.accessToken,\n});\n\nconst ConnectedAuthChecker = connect(mapStateToProps)(AuthChecker);\n\nexport { ConnectedAuthChecker as AuthChecker };\n","import {\n  Button,\n  InputAdornment,\n  StyleRulesCallback,\n  TextField,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core';\nimport { TextFieldProps } from '@material-ui/core/TextField';\nimport { subDays } from 'date-fns/esm';\nimport { DateTimePicker } from 'material-ui-pickers';\nimport React, { FunctionComponent, useCallback, useState } from 'react';\n\nimport { ReviewStatsInputs } from './interfaces';\n\nconst styles: StyleRulesCallback<'input' | 'withMarginLeft'> = (theme) => ({\n  input: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n  withMarginLeft: {\n    marginLeft: theme.spacing.unit,\n  },\n});\n\ninterface InputsProps {\n  onQuery: (inputs: ReviewStatsInputs) => void;\n}\n\nconst Inputs: FunctionComponent<WithStyles<typeof styles> & InputsProps> = ({\n  classes,\n  onQuery,\n}) => {\n  const [repository, setRepository] = useState('Facebook/react');\n  const onRepositoryInputChange: NonNullable<TextFieldProps['onChange']> = (\n    event,\n  ) => {\n    setRepository(event.target.value);\n  };\n\n  const [fromDate, setFromDate] = useState(subDays(new Date(), 7));\n  const [toDate, setToDate] = useState(new Date());\n  const onQueryButtonClick = useCallback(\n    () =>\n      onQuery({\n        repository,\n        fromDate,\n        toDate,\n      }),\n    [onQuery, repository, fromDate, toDate],\n  );\n\n  return (\n    <>\n      <TextField\n        label=\"Repository\"\n        value={repository}\n        onChange={onRepositoryInputChange}\n        className={classes.input}\n        fullWidth={true}\n        InputProps={{\n          startAdornment: (\n            <InputAdornment position=\"start\">\n              https://github.com/\n            </InputAdornment>\n          ),\n        }}\n      />\n\n      <div>\n        <DateTimePicker\n          value={fromDate}\n          onChange={setFromDate}\n          label=\"From\"\n          disableFuture={true}\n          className={classes.input}\n        />\n        <DateTimePicker\n          value={toDate}\n          onChange={setToDate}\n          label=\"To\"\n          disableFuture={true}\n          className={`${classes.input} ${classes.withMarginLeft}`}\n        />\n      </div>\n\n      <Button variant=\"contained\" color=\"primary\" onClick={onQueryButtonClick}>\n        Query\n      </Button>\n    </>\n  );\n};\n\nconst StyledInputs = withStyles(styles)(Inputs);\nexport { StyledInputs as Inputs };\n","export const colorPalette = [\n  '#52489C',\n  '#4062BB',\n  '#59C3C3',\n  '#535e79',\n  '#F45B69',\n];\n","import { StyleRulesCallback, withStyles, WithStyles } from '@material-ui/core';\nimport React, { FunctionComponent } from 'react';\nimport {\n  Bar,\n  BarChart,\n  CartesianGrid,\n  Cell,\n  Pie,\n  PieChart,\n  ResponsiveContainer,\n  Tooltip,\n  XAxis,\n  YAxis,\n} from 'recharts';\n\nimport { colorPalette } from './color-palette';\nimport { TransformedReview } from './interfaces';\n\nconst styles: StyleRulesCallback<'chartsWrapper'> = (_) => ({\n  chartsWrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    overflow: 'hidden',\n  },\n});\n\nconst BARS_LIMIT = 10;\n\ninterface ChartsOwnProps {\n  reviews: TransformedReview[];\n}\n\nconst Charts: FunctionComponent<WithStyles<typeof styles> & ChartsOwnProps> = ({\n  classes,\n  reviews,\n}) => {\n  return (\n    <div className={classes.chartsWrapper}>\n      <ResponsiveContainer width=\"80%\" aspect={1}>\n        <PieChart>\n          <Pie\n            data={reviews}\n            nameKey=\"name\"\n            dataKey=\"count\"\n            label={true}\n            labelLine={true}\n          >\n            {reviews.map((_, index) => (\n              <Cell\n                fill={colorPalette[index % colorPalette.length]}\n                key={index}\n              />\n            ))}\n          </Pie>\n          <Tooltip />\n        </PieChart>\n      </ResponsiveContainer>\n      <ResponsiveContainer width=\"100%\" aspect={2}>\n        <BarChart data={reviews.slice(0, BARS_LIMIT)}>\n          <CartesianGrid />\n          <XAxis dataKey=\"name\" />\n          <YAxis />\n          <Bar dataKey=\"count\" fill={colorPalette[0]} />\n          <Tooltip />\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nconst StyledCharts = withStyles(styles)(Charts);\nexport { StyledCharts as Charts };\n","import { filesReviewedReviewMetric } from './files-reviewed';\nimport { linesOfCodeReviewedReviewMetric } from './lines-of-code-reviewed';\nimport { prsInteractedWithReviewMetric } from './prs-interacted-with';\nimport { totalCommentsReviewMetric } from './total-comments';\nimport { ReviewMetric } from './types';\n\nexport type MetricKind =\n  | 'totalComments'\n  | 'prsInteractedWith'\n  | 'linesOfCodeReviewed'\n  | 'filesReviewed';\n\nexport const metrics: Record<MetricKind, ReviewMetric> = {\n  totalComments: totalCommentsReviewMetric,\n  prsInteractedWith: prsInteractedWithReviewMetric,\n  linesOfCodeReviewed: linesOfCodeReviewedReviewMetric,\n  filesReviewed: filesReviewedReviewMetric,\n};\n","import { ReviewMetric } from './types';\n\nexport const totalCommentsReviewMetric: ReviewMetric = (pullRequests) => {\n  const reviewsMap: Record<string, number> = {};\n\n  pullRequests.forEach((pr) => {\n    pr.reviews.nodes\n      .filter((review) => review.author.login !== pr.author.login)\n      .forEach((review) => {\n        reviewsMap[review.author.login] =\n          (reviewsMap[review.author.login] || 0) + review.comments.totalCount;\n      });\n  });\n\n  return reviewsMap;\n};\n","import { ReviewMetric } from './types';\n\nexport const prsInteractedWithReviewMetric: ReviewMetric = (pullRequests) => {\n  const reviewsMap: Record<string, number> = {};\n\n  pullRequests.forEach((pr) => {\n    const involvedUsers = new Set<string>();\n\n    pr.reviews.nodes.forEach((review) => {\n      involvedUsers.add(review.author.login);\n    });\n\n    involvedUsers.delete(pr.author.login);\n\n    involvedUsers.forEach((user) => {\n      reviewsMap[user] = (reviewsMap[user] || 0) + 1;\n    });\n  });\n\n  return reviewsMap;\n};\n","import { ReviewMetric } from './types';\n\nexport const linesOfCodeReviewedReviewMetric: ReviewMetric = (pullRequests) => {\n  const reviewsMap: Record<string, number> = {};\n\n  pullRequests.forEach((pr) => {\n    const involvedUsers = new Set<string>();\n\n    pr.reviews.nodes.forEach((review) => {\n      involvedUsers.add(review.author.login);\n    });\n\n    involvedUsers.delete(pr.author.login);\n\n    involvedUsers.forEach((user) => {\n      reviewsMap[user] = (reviewsMap[user] || 0) + pr.additions + pr.deletions;\n    });\n  });\n\n  return reviewsMap;\n};\n","import { ReviewMetric } from './types';\n\nexport const filesReviewedReviewMetric: ReviewMetric = (pullRequests) => {\n  const reviewsMap: Record<string, number> = {};\n\n  pullRequests.forEach((pr) => {\n    const involvedUsers = new Set<string>();\n\n    pr.reviews.nodes.forEach((review) => {\n      involvedUsers.add(review.author.login);\n    });\n\n    involvedUsers.delete(pr.author.login);\n\n    involvedUsers.forEach((user) => {\n      reviewsMap[user] = (reviewsMap[user] || 0) + pr.changedFiles;\n    });\n  });\n\n  return reviewsMap;\n};\n","import { FormControl, InputLabel, MenuItem } from '@material-ui/core';\nimport Select, { SelectProps } from '@material-ui/core/Select';\nimport React, {\n  FunctionComponent,\n  useCallback,\n  useMemo,\n  useState,\n} from 'react';\n\nimport { Charts } from './charts';\nimport { PullRequest } from './interfaces';\nimport { MetricKind, metrics } from './metrics';\nimport { transformPullRequests } from './transform-pull-requests';\n\nexport const MetricPickerWithCharts: FunctionComponent<{\n  pullRequests: PullRequest[];\n}> = ({ pullRequests }) => {\n  const [metricKind, setMetricKind] = useState('totalComments' as MetricKind);\n  const reviews = useMemo(\n    () => transformPullRequests(pullRequests, metrics[metricKind]),\n    [metricKind, pullRequests],\n  );\n\n  const onMetricSelectChange = useCallback<\n    NonNullable<SelectProps['onChange']>\n  >(\n    (event) => {\n      setMetricKind(event.target.value as MetricKind);\n    },\n    [setMetricKind],\n  );\n\n  return (\n    <>\n      <FormControl style={{ marginTop: 10 }}>\n        <InputLabel htmlFor=\"metric\">Metric</InputLabel>\n        <Select\n          value={metricKind}\n          onChange={onMetricSelectChange}\n          inputProps={{ name: 'metric', id: 'metric' }}\n        >\n          <MenuItem value={'totalComments' as MetricKind}>\n            Total comments\n          </MenuItem>\n          <MenuItem value={'prsInteractedWith' as MetricKind}>\n            PRs interacted with\n          </MenuItem>\n          <MenuItem value={'linesOfCodeReviewed' as MetricKind}>\n            Lines of code reviewed\n          </MenuItem>\n          <MenuItem value={'filesReviewed' as MetricKind}>\n            Files reviewed\n          </MenuItem>\n        </Select>\n      </FormControl>\n\n      <Charts reviews={reviews} />\n    </>\n  );\n};\n","import { PullRequest, TransformedReview } from './interfaces';\nimport { ReviewMetric } from './metrics/types';\n\nexport const transformPullRequests = (\n  pullRequests: PullRequest[],\n  reviewMetric: ReviewMetric,\n): TransformedReview[] => {\n  const reviewsMap = reviewMetric(pullRequests);\n\n  const reviews = Object.entries(reviewsMap).map(\n    ([name, count]): TransformedReview => ({\n      name,\n      count,\n    }),\n  );\n  reviews.sort((a, b) => b.count - a.count);\n\n  return reviews;\n};\n","import { CircularProgress } from '@material-ui/core';\nimport { format } from 'date-fns/esm';\nimport gql from 'graphql-tag';\nimport React, { FunctionComponent } from 'react';\nimport { Query } from 'react-apollo';\n\nimport { ReviewStatsInputs } from './interfaces';\nimport { MetricPickerWithCharts } from './metric-picker-with-charts';\n\nconst GET_REPOSITORY_INFO_QUERY = gql`\n  query GetRepositoryInfo(\n    $firstPrs: Int!\n    $firstReviews: Int!\n    $query: String!\n  ) {\n    search(first: $firstPrs, type: ISSUE, query: $query) {\n      nodes {\n        ... on PullRequest {\n          number\n          permalink\n          title\n          updatedAt\n          changedFiles\n          additions\n          deletions\n          author {\n            login\n          }\n          reviews(first: $firstReviews) {\n            nodes {\n              author {\n                login\n              }\n              comments {\n                totalCount\n              }\n              publishedAt\n              state\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n\ninterface QueryRepositoryProps {\n  queryData: ReviewStatsInputs;\n}\n\nexport const QueryRepository: FunctionComponent<QueryRepositoryProps> = ({\n  queryData,\n}) => {\n  const queryVariables = {\n    firstPrs: 100,\n    firstReviews: 100,\n    query: createSearchQueryString(queryData),\n  };\n\n  return (\n    <div>\n      <Query query={GET_REPOSITORY_INFO_QUERY} variables={queryVariables}>\n        {({ loading, error, data }) => {\n          if (loading) {\n            return <CircularProgress />;\n          }\n          if (error) {\n            console.error('Error while fetching the query', error);\n            return 'Error!';\n          }\n\n          return <MetricPickerWithCharts pullRequests={data.search.nodes} />;\n        }}\n      </Query>\n    </div>\n  );\n};\n\nconst formatGitHubDateTime = (date: Date) =>\n  [format(date, 'yyyy-MM-dd'), 'T', format(date, 'HH:mm:ss'), 'Z'].join('');\n\nconst createSearchQueryString = (queryData: ReviewStatsInputs) =>\n  `type:pr repo:${queryData.repository} updated:${formatGitHubDateTime(\n    queryData.fromDate,\n  )}..${formatGitHubDateTime(queryData.toDate)} sort:updated-desc`;\n","import {\n  Paper,\n  StyleRulesCallback,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core';\nimport React, { FunctionComponent, useState } from 'react';\n\nimport { Inputs } from './inputs';\nimport { ReviewStatsInputs } from './interfaces';\nimport { QueryRepository } from './query-repository';\n\nconst styles: StyleRulesCallback<'main' | 'input' | 'withMarginLeft'> = (\n  theme,\n) => ({\n  main: {\n    width: 'auto',\n    display: 'block',\n\n    marginLeft: theme.spacing.unit * 2,\n    marginRight: theme.spacing.unit * 2,\n    marginTop: theme.spacing.unit,\n\n    padding: theme.spacing.unit * 2,\n\n    [theme.breakpoints.up('lg')]: {\n      width: theme.breakpoints.width('lg') - theme.spacing.unit * 2 * 2,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  input: {\n    marginBottom: theme.spacing.unit * 2,\n  },\n  withMarginLeft: {\n    marginLeft: theme.spacing.unit,\n  },\n});\n\nconst ReviewStats: FunctionComponent<WithStyles<typeof styles>> = ({\n  classes,\n}) => {\n  const [queryData, setQueryData] = useState<ReviewStatsInputs | null>(null);\n\n  return (\n    <Paper className={classes.main}>\n      <Inputs onQuery={setQueryData} />\n\n      {queryData && <QueryRepository queryData={queryData} />}\n    </Paper>\n  );\n};\n\nconst StyledReviewStats = withStyles(styles)(ReviewStats);\nexport { StyledReviewStats as ReviewStats };\n","import { combineReducers, createStore } from 'redux';\n\nimport { AuthenticationAction } from './authentication/actions';\nimport { AuthenticationState } from './authentication/interfaces';\nimport { authenticationReducerFactory } from './authentication/reducer';\n\nexport interface StoreState {\n  authentication: AuthenticationState;\n}\n\nexport type StoreAction = AuthenticationAction;\n\nconst reducer = combineReducers<StoreState, StoreAction>({\n  authentication: authenticationReducerFactory(localStorage),\n});\n\nexport const store = createStore(\n  reducer,\n  (window as any).__REDUX_DEVTOOLS_EXTENSION__ &&\n    (window as any).__REDUX_DEVTOOLS_EXTENSION__(),\n);\n","import { Reducer } from 'redux';\n\nimport { AuthenticationAction } from './actions';\nimport { AuthenticationState } from './interfaces';\n\nconst ACCESS_TOKEN_STORAGE_KEY = 'accessToken';\n\nexport const authenticationReducerFactory = (\n  storage: Storage,\n): Reducer<AuthenticationState, AuthenticationAction> => {\n  const defaultState: AuthenticationState = {\n    accessToken: storage.getItem(ACCESS_TOKEN_STORAGE_KEY) || undefined,\n    isLoading: false,\n    hasError: false,\n    login: undefined,\n  };\n\n  return (state = defaultState, action): AuthenticationState => {\n    switch (action.type) {\n      case 'AUTHENTICATION_SUCCESS':\n        storage.setItem(ACCESS_TOKEN_STORAGE_KEY, action.accessToken);\n\n        return {\n          ...state,\n          accessToken: action.accessToken,\n          isLoading: false,\n        };\n\n      case 'AUTHENTICATION_ERROR':\n        return {\n          ...state,\n          isLoading: false,\n          hasError: true,\n        };\n\n      case 'AUTHENTICATION_STARTED':\n        return {\n          ...state,\n          isLoading: true,\n          hasError: false,\n        };\n\n      case 'AUTHENTICATION_LOGOUT':\n        storage.removeItem(ACCESS_TOKEN_STORAGE_KEY);\n\n        return {\n          ...state,\n          isLoading: false,\n          hasError: false,\n          accessToken: undefined,\n          login: undefined,\n        };\n\n      case 'AUTHENTICATION_LOGIN':\n        return {\n          ...state,\n          login: action.login,\n        };\n\n      default:\n        return state;\n    }\n  };\n};\n","export const getUserProfileUrl = (login: string) =>\n  `https://github.com/${login}`;\n","import {\n  Button,\n  Grid,\n  Link,\n  Paper,\n  StyleRulesCallback,\n  Typography,\n  WithStyles,\n  withStyles,\n} from '@material-ui/core';\nimport React, { FunctionComponent, useCallback } from 'react';\nimport { connect, DispatchProp, MapStateToProps } from 'react-redux';\n\nimport { AppTitle } from '../app-title';\nimport { authenticationLogout } from '../authentication/actions';\nimport { StoreState } from '../store';\nimport { getUserProfileUrl } from './get-user-profile-url';\n\ninterface StateProps {\n  login?: string;\n}\n\nconst styles: StyleRulesCallback<'main' | 'signOutButton'> = (theme) => ({\n  main: {\n    width: 'auto',\n\n    display: 'block', // Fix IE 11 issue.\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    marginTop: theme.spacing.unit,\n    padding: theme.spacing.unit,\n    [theme.breakpoints.up(400 + theme.spacing.unit * 3 * 2)]: {\n      width: 400,\n      marginLeft: 'auto',\n      marginRight: 'auto',\n    },\n  },\n  signOutButton: {\n    textAlign: 'right',\n  },\n});\n\nconst UserInfoBar: FunctionComponent<\n  StateProps & DispatchProp & WithStyles<typeof styles>\n> = ({ login, dispatch, classes }) => {\n  if (!login) {\n    throw new Error('Login is required');\n  }\n\n  const signOut = useCallback(() => {\n    dispatch(authenticationLogout());\n  }, [dispatch]);\n\n  return (\n    <Paper className={classes.main}>\n      <AppTitle />\n\n      <Grid container={true} alignItems=\"center\">\n        <Grid item={true} xs={8}>\n          <Typography>\n            Signed in as{' '}\n            <Link href={getUserProfileUrl(login)}>\n              <strong>{login}</strong>\n            </Link>\n          </Typography>\n        </Grid>\n\n        <Grid item={true} xs={4} className={classes.signOutButton}>\n          <Button onClick={signOut} variant=\"contained\">\n            Sign out\n          </Button>\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nconst mapStateToProps: MapStateToProps<StateProps, {}, StoreState> = ({\n  authentication,\n}) => ({\n  login: authentication.login,\n});\n\nconst ConnectedUserInfoBar = connect(mapStateToProps)(\n  withStyles(styles)(UserInfoBar),\n);\n\nexport { ConnectedUserInfoBar as UserInfoBar };\n","import DateFnsUtils from '@date-io/date-fns';\nimport { CssBaseline } from '@material-ui/core';\nimport { MuiPickersUtilsProvider } from 'material-ui-pickers';\nimport React, { Component } from 'react';\nimport { Provider as StoreProvider } from 'react-redux';\n\nimport { ApolloSetup } from './apollo/apollo-setup';\nimport { AuthChecker } from './authentication/auth-checker';\nimport { ReviewStats } from './review-stats/review-stats';\nimport { store } from './store';\nimport { UserInfoBar } from './user-info-bar/user-info-bar';\n\nclass App extends Component {\n  public render() {\n    return (\n      <>\n        <CssBaseline />\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <StoreProvider store={store}>\n            <AuthChecker>\n              <ApolloSetup>\n                <UserInfoBar />\n\n                <ReviewStats />\n              </ApolloSetup>\n            </AuthChecker>\n          </StoreProvider>\n        </MuiPickersUtilsProvider>\n      </>\n    );\n  }\n}\n\nexport default App;\n","// tslint:disable:no-console\n// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the 'N+1' visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL!,\n      window.location.toString(),\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ',\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker) {\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === 'installed') {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the old content will have been purged and\n                // the fresh content will have been added to the cache.\n                // It's the perfect time to display a 'New content is\n                // available; please refresh.' message in your web app.\n                console.log('New content is available; please refresh.');\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // 'Content is cached for offline use.' message.\n                console.log('Content is cached for offline use.');\n              }\n            }\n          };\n        }\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type')!.indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport * as ReactDOM from 'react-dom';\n\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root') as HTMLElement);\nregisterServiceWorker();\n"],"sourceRoot":""}